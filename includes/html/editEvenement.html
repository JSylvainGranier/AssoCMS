<script src="ressources/tinymce/tinymce.min.js"></script>
<script src="ressources/tinymce/langs/fr_FR.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

<h3>$titrePage$</h3>

<form method="POST" action="index.php?save">

	<input type='hidden' name='class' value='Evenement' /> <input
		type='hidden' name='id' value='$id$' />

	<p>
		<label for='titre'>Titre</label><input type='text' name='titre'
			id='titre' value='$titre$'>
	</p>

	<p>
		Classer dans $categorieSelect$ 
	</p>

	<p>
		<label for='dateDebut'>Début et Fin</label> 
		
		<input type="text" id="unifiedDateTimeRange" value="$dateDebut$ - $dateFin$" style="width: 250px;">
		<div style="display: none;">
			<input type="datetime"
			name='dateDebut' id='dateDebut' value='$dateDebut$'>
			&nbsp;&nbsp;&nbsp; <label for='dateFin'>Fin</label><input
			type="datetime" name='dateFin' id='dateFin' value='$dateFin$'>
			
			<br /> <i>Note : s'il n'y a pas d'heure, mettre '00:00';</i>
		</div>

	</p>

	<p style="display: none;">
		<label for='emplacement'>Lieux où se déroule le rendez-vous</label><input
			type='text' name='emplacement' id='emplacement' value='$emplacement$'>
	</p>

	<p>
		<label for='introduction'>Description rapide</label>
		<textarea type='text' name='introduction' rows="20" id='introduction'>$intro$</textarea>
	</p>

	<p>
		<label for='suite'>Détails complémentaires</label>
		<textarea type='text' name='suite' id='suite' rows="20">$suite$</textarea>
	</p>

	<p>
		<label for='organisateur'>Organisé par</label> $orangisateur1Select$
		et $orangisateur2Select$
	</p>

	<p>
		<label for='allowReactions'>Autoriser les membres à réagir à
			ce rendez-vous : </label> <label for='allowReactionsTRUE'>Oui</label> <input
			type='radio' $allowReactionsTrue$ name='allowReactions'
			id='allowReactionsTRUE' value='1'>&nbsp;&nbsp;&nbsp; <label
			for='allowReactionsFALSE'>Non</label> <input type='radio'
			$allowReactionsFalse$ name='allowReactions' id='allowReactionsFALSE'
			value='0'>
	</p>

	<p>
		<label for='allowMemberAttachments'>Autoriser les membres à
			ajouter leurs documents sur cette page : </label> <label
			for='allowMemberAttachmentsTRUE'>Oui</label> <input type='radio'
			$allowMemberAttachmentsTrue$ name='allowMemberAttachments'
			id='allowMemberAttachmentsTRUE' value='1'>&nbsp;&nbsp;&nbsp;
		<label for='allowMemberAttachmentsFALSE'>Non</label> <input
			type='radio'
			$allowMemberAttachmentsFalse$ name='allowMemberAttachments'
			id='allowMemberAttachmentsFALSE' value='0'>
	</p>

	<p>
		<label for='etat'>Visibilité : </label> $publicationState$
	</p>


	<input type='submit' value='$sendButtonLabel$' />
</form>

<script>
	tinymce.init({selector:'textarea',  
		menubar : false, 
		statusbar : true, 
		document_base_url: "$SITE_ROOT$",
		remove_script_host: false,
		relative_urls: false,
		browser_spellcheck : true,
		resize: true,
		plugins: ["preview","link", "image"],
		toolbar: [
		          "undo redo | styleselect fontsizeselect | bold italic underline | image | link unlink | preview",
		          "alignleft aligncenter alignright alignjustify | bullist numlist outdent indent blockquote | removeformat"
		      ]
	}
	);
	


       
$('#unifiedDateTimeRange').daterangepicker({
    "timePicker": true,
    "timePicker24Hour": true,
    "timePickerIncrement": 15,
    "locale": {
        "format": "DD/MM/YYYY HH:mm",
        "separator": " - ",
        "applyLabel": "Appliquer",
        "cancelLabel": "Annuler",
        "fromLabel": "Du",
        "toLabel": "Au",
        "customRangeLabel": "Custom",
        "weekLabel": "S",
        "daysOfWeek": [
            "Dim",
            "Lun",
            "Mar",
            "Mer",
            "Jeu",
            "Ven",
            "Sam"
        ],
        "monthNames": [
            "Janvier",
            "Fevrier",
            "Mars",
            "Avril",
            "Mai",
            "Juin",
            "Juillet",
            "Août",
            "Septembre",
            "Octobre",
            "Novembre",
            "Décembre"
        ],
        "firstDay": 1
    },
    "startDate": "$dateDebut$",
    "endDate": "$dateFin$",
    "drops": "auto"
}, function(start, end, label) {
  console.log('New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')');
  document.getElementById('dateDebut').value = start.format('DD/MM/YYYY HH:mm');
  document.getElementById('dateFin').value = end.format('DD/MM/YYYY HH:mm');
});
	
	</script>

